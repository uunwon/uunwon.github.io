---
layout: post
title:  "[BoostCourse] Android Programming 03"
categories:
  - Android
  - BoostCourse
tag:
- android 
- java
- kotlin
---

## ν™”λ©΄ μ—¬λ¬ κ° λ§λ“¤κΈ°
#### by boostcourse

* ν™”λ©΄ μ „ν™ν•κΈ°
* μΈν…νΈ μ‚΄ν΄λ³΄κΈ°
* μλ…μ£ΌκΈ° μ΄ν•΄ν•κΈ°
* μ„λΉ„μ¤ μ‚¬μ©ν•κΈ°
* λΈλ΅λ“μΊμ¤νΈ μμ‹ μ μ‚¬μ©ν•κΈ°

<br>

### π”‘ ν™”λ©΄ μ „ν™ν•κΈ°
<br>
γ€€μ‹μ¤ν…μ΄ κ΄€λ¦¬ν•λ” μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†λ” μ•΅ν‹°λΉ„ν‹°(Acitity)γ†μ„λΉ„μ¤(Service)γ†λΈλ΅λ“μΊμ¤νΈ λ¦¬μ‹λ²„(Broadcast Receiver)γ†λ‚΄μ© μ κ³µμ(Content Provider) κ°€ μλ‹¤. κ° ν΄λμ¤λ“¤μ€ μ•λ“λ΅μ΄λ“ SDKκ°€ μ κ³µν•λ©°, λ§¤λ‹νμ¤νΈ νμΌμ„ ν†µν•΄ μ–΄λ–¤ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†κ°€ ν¬ν•¨λμ–΄ μλ” μ§€ ν™•μΈν•  μ μλ‹¤. 

γ€€μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ† μ¤‘ **μ•΅ν‹°λΉ„ν‹°(Activity)**λ” μ•λ“λ΅μ΄λ“ μ•±μ—μ„ ν•λ‚μ ν™”λ©΄μ„ λ§λ“ λ‹¤. ν•λ‚μ μ•΅ν‹°λΉ„ν‹°κ°€ λ λ‹¤λ¥Έ μ•΅ν‹°λΉ„ν‹°λ΅, μ¦‰ ν™”λ©΄μ΄ μ „ν™λκΈ° μ„ν•΄ **μΈν…νΈ(Intent)** κ°μ²΄λ¥Ό μ‚¬μ©ν•λ‹¤. startActivityForResult λ©”μ†λ“λ¥Ό νΈμ¶ν•λ©΄ μΈν…νΈ κ°μ²΄κ°€ μ‹μ¤ν…(μ•΅ν‹°λΉ„ν‹° λ§¤λ‹μ €)μΌλ΅ μ „λ‹¬λλ‹¤. μ•΅ν‹°λΉ„ν‹° λ§¤λ‹μ €λ” μΈν…νΈκ°€ μ§€μ •ν• μ•΅ν‹°λΉ„ν‹°λ¥Ό μ‹¤ν–‰ν•μ—¬ ν™”λ©΄μ— λ³΄μ—¬μ£Όκ² λλ‹¤.

<p>
// ν΄λμ¤ μΈμ¤ν„΄νΈλ¥Ό μΈν…νΈμ νλΌλ―Έν„°λ΅ λ„κ²¨μ£Όλ” λ°©μ‹ <br>
Intent intent = new Intent(Context pakageContext, Class<?> cls); <br>
startActivityForResult(intent, INT_REQUEST_CODE); <br>
<br>
startActivityForResult(new Intent(MainActivity.this, SubActivity.class), INT_REQUEST_CODE); <br>
<br>
// ComponentName κ°μ²΄ λ§λ“¤μ–΄ μ„¤μ •ν•λ” λ°©μ‹ <br>
Intent intent = new Intent(); <br>
ComponentName name = new ComponentName("org.techtown.intent", "org.techdown.intent.SubActivity"); <br>
intent.setComponent(name); <br>
startActivityForResult(intent, INT_REQUEST_CODE); <br> <br>
finish();
</p>
{: .notice}

<br>

### π“ μΈν…νΈ μ‚΄ν΄λ³΄κΈ°

#### μΈν…νΈ μΆ…λ¥
γ€€μ‹μ¤ν…μ—μ„ μ΄ν•΄ν•  μ μλ” κ°μ²΄λ΅ λ§λ“¤μ–΄μ§„ κ²ƒμ΄ **μΈν…νΈ(Intent)**μ΄λ©°, ν™”λ©΄μ„ μ‹¤ν–‰ν•  λ• μΈν…νΈκ°€ μ‚¬μ©λλ‹¤. μΈν…νΈμ—λ” μ»΄ν¬λ„νΈ Aκ°€ μ»΄ν¬λ„νΈ Bλ¥Ό νΈμ¶ν•  λ• ν•„μ”ν• μ •λ³΄λ¥Ό λ‹΄κ³  μμΌλ©°, μ΄ μ •λ³΄μ—λ” νΈμ¶λλ” μ»΄ν¬λ„νΈ Bμ μ΄λ¦„μ΄ `λ…μ‹μ `μΌλ΅ ν‘μ‹λκΈ°λ„ ν•κ³ , μ†μ„±λ“¤μ΄ `μ•”μ‹μ `μΌλ΅ ν‘μ‹λκΈ°λ„ ν•λ‹¤.

 > β‘  λ…μ‹μ  μΈν…νΈ <br> μΈν…νΈμ— ν΄λμ¤ κ°μ²΄ μ»΄ν¬λ„νΈ μ΄λ¦„μ„ μ§€μ •ν•μ—¬ νΈμ¶λ λ€μƒμ„ ν™•μ‹¤ν μ• μ μλ” κ²½μ°μ— μ‚¬μ©ν•λ‹¤. μ£Όλ΅ μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•λ‹¤.

 > β‘΅ μ•”μ‹μ  μΈν…νΈ <br> μΈν…νΈμ μ•΅μ…κ³Ό ν…μ΄ν„°λ¥Ό μ§€μ •ν•κΈ΄ ν–μ§€λ§, νΈμ¶ν•  λ€μƒμ΄ λ‹¬λΌμ§ μ μλ” κ²½μ°μ—λ” μ•”μ‹μ  μΈν…νΈλ¥Ό μ‚¬μ©ν•λ‹¤. μ¦‰, μ„¤μΉλ μ• ν”λ¦¬μΌ€μ΄μ…λ“¤μ— λ€ν• μ •λ³΄λ¥Ό μ•κ³  μλ” μ•λ“λ΅μ΄λ“ μ‹μ¤ν…μ΄ μΈν…νΈλ¥Ό μ΄μ©ν•΄ μ”μ²­ν• μ •λ³΄λ¥Ό μ²λ¦¬ν•  μ μλ” μ μ ν• μ»΄ν¬λ„νΈλ¥Ό μ°Ύμ•„λ³Έ λ‹¤μ, μ‚¬μ©μμ—κ² κ·Έ λ€μƒκ³Ό μ²λ¦¬ κ²°κ³Όλ¥Ό λ³΄μ—¬μ£Όλ” κ³Όμ •μ„ κ±°μΉκ² λλ‹¤.

<br>

#### μΈν…νΈ ν”λκ·Έ
 γ€€μƒλ΅ μ‹¤ν–‰ν•λ ¤λ” μ•΅ν‹°λΉ„ν‹°μ™€ ν™”λ©΄μ— λ³΄μ΄λ” μ•΅ν‹°λΉ„ν‹°κ°€ λ™μΌν• μ•΅ν‹°λΉ„ν‹°μΈ κ²½μ° (ex. μ„λΉ„μ¤), ν”λκ·Έλ¥Ό μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬μ— μ•΅ν‹°λΉ„ν‹°λ¥Ό μƒλ΅ λ§λ“¤μ§€ μ•κ³  ν™”λ©΄μ— λ³΄μ΄λ” μ•΅ν‹°λΉ„ν‹°λ¥Ό μ¬μ‚¬μ©ν•λ‹¤. μ΄κ°™μ€ κ²½μ°μ— onCreate λ©”μ†λ“ λ€μ‹  onNewIntent λ©”μ†λ“κ°€ νΈμ¶λμ–΄ μΈν…νΈλ¥Ό μ „λ‹¬λ°›μ„ μ μλ‹¤. μ•΅ν‹°λΉ„ν‹°λ¥Ό μ¬μ‚¬μ©ν•  μ‹μ—λ” μΈν…νΈμ— μ¶”κ°€ν•  μ μλ” μµμ…μΈ **ν”λκ·Έ**λ¥Ό ν™μ©ν•λ‹¤. μ¦‰, μ‹μ¤ν…μ΄ μΈν…νΈλ¥Ό ν•΄μ„ν• ν›„ λ™μ‘μ‹ν‚¬ λ• μµμ…μ— λ”°λΌ λ‹¤λ¥Έ λ™μ‘μ„ ν•λ„λ΅ ν•λ‹¤. ν”λκ·Έλ¥Ό μ΄ν•΄ν•κΈ° μ„ν•΄μ„λ” μ•΅ν‹°λΉ„ν‹° μ¤νƒμ—μ„ μ•΅ν‹°λΉ„ν‹°κ°€ κ΄€λ¦¬λλ‹¤λ” μ μ„ μ•μ•„μ•Ό ν•λ‹¤.

 <p>
 intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP); //μ„¤μ • <br>
 intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); //μ¶”κ°€
 </p>
 {: .notice}

 <br>

#### λ¶€κ°€ λ°μ΄ν„°

γ€€μΈν…νΈλ” μ‹μ¤ν…μ„ ν†µν•΄ λ‹¤λ¥Έ μ•΅ν‹°λΉ„ν‹°λ΅ μ „λ‹¬λ  μ μλ”λ° μ•΅ν‹°λΉ„ν‹°λΏλ§ μ•„λ‹λΌ λ‹¤λ¥Έ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†λ΅λ„ μ „λ‹¬λ  μ μλ‹¤. μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†λ“¤ κ°„μ— λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” λ° μΈν…νΈκ°€ μ‚¬μ©λλ” κ²ƒμ΄λ‹¤. λ¶€κ°€ λ°μ΄ν„°λ” μ‹μ¤ν…μ—μ„ κ±΄λ“λ¦¬μ§€ μ•κ³  μ „λ‹¬λ§ λλ©°, μΈν…νΈ μ•μ— λ²λ“¤(Bundle) κ°μ²΄κ°€ λ“¤μ–΄μμ–΄ κ·Έ μ•μ— λ°μ΄ν„°λ¥Ό λ„£μ„ λ•λ” put, λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ λ•λ” get λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ‹¤.

γ€€κΈ°μ΅΄μ put, get λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μΈν…νΈμ— λ„£μ„ μ μλ” λ¶€κ°€λ°μ΄ν„°μ μλ£ν•μ€ κΈ°λ³Έ μλ£ν•λΏμ΄λ‹¤. λ‹¤μ–‘ν• κ°μ²΄μ μ •λ³΄λ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄μ„λ” **Serializble** λλ” **Parcelable** κ°μ²΄λ¥Ό λ§λ“¤μ–΄ μ „λ‹¬ν•  μ μλ‹¤.

γ€€λ°μ΄ν„° ν΄λμ¤λ¥Ό λ³„λ„λ΅ μƒμ„±ν•μ—¬ μ „λ‹¬ν•  λ•, μ•λ“λ΅μ΄λ“μ—μ„λ” Parcelableμ„ κµ¬ν„ν•λ” κ²ƒμ„ μ¶”μ²ν•κ³  μλ‹¤. Serializableμ€ λ°μ΄ν„°λ¥Ό ν¨μ¨μ μ΄μ§€ μ•κ² μΌλ ¬ λ°μ΄ν„°λ΅ λ§λ“¤μ–΄ μ „μ†΅ν•λ” λ°λ©΄ Parcelableμ€ λ°μ΄ν„° νƒ€μ…μ— λ§κ² κ°€κ³µν•΄μ¤€λ‹¤.

<br>

### π”¨ μλ…μ£ΌκΈ° μ΄ν•΄ν•κΈ°

γ€€μ•΅ν‹°λΉ„ν‹° μλ…μ£ΌκΈ°λ” μ•΅ν‹°λΉ„ν‹°μ μƒνƒκ°€ λ³€ν•  λ•λ§λ‹¤ μ•λ“λ΅μ΄λ“ μ‹μ¤ν…μ—μ„ κ° μƒν™©μ— λ§λ” λ©”μ†λ“λ¥Ό μλ™μΌλ΅ νΈμ¶ν•΄μ¤μΌλ΅μ¨, μ§μ ‘ μƒνƒμ— λ§λ” μ½”λ“λ¥Ό λ„£μ–΄ μ•΅ν‹°λΉ„ν‹°μ μƒνƒμ— λ”°λΌ μ μ–΄ν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.

γ€€<img src="{{ site.url }}/images/android_lifecycle.png" alt="Android_LifeCycle" height="50">

γ€€ν™”λ©΄μ΄ μ—†μ–΄μ§ λ• λ°μ΄ν„°λ¥Ό μ„μ‹λ΅ μ €μ¥ν•  λ•λ” **onPause()** λ©”μ†λ“λ¥Ό, λ°μ΄ν„°λ¥Ό λ³µκµ¬ν•  λ•λ” **onResume()** λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ‹¤. μ΄λ• λ°μ΄ν„°λ” SharedPreferencesλ¥Ό μ΄μ©ν•λ©΄ μ €μ¥ν•  μ μλ‹¤. λλ” onSaveInstanceState λ©”μ†λ“μ™€ onRestoreInstanceState λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ΄ μλ‹¤.

<br>

### β› μ„λΉ„μ¤ μ‚¬μ©ν•κΈ°

γ€€**μ„λΉ„μ¤(Service)**λ” ν™”λ©΄μ΄ μ—†λ” μƒνƒ(λ°±κ·ΈλΌμ΄λ“)μ—μ„ μ‹¤ν–‰λλ” μ• ν”λ¦¬μΌ€μ΄μ…μ κµ¬μ„±μ”μ† μ¤‘ ν•λ‚λ‹¤. μΈν„°λ„·μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” κ²½μ°κ°€ λ§μ€λ° μ΄λ• λ€λ¶€λ¶„ μ„λΉ„μ¤λΌλ” κ²ƒμ„ μ‚¬μ©ν•κ² λλ‹¤. μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†μ΄κΈ° λ•λ¬Έμ— ν”„λ΅μ νΈμ— μ¶”κ°€ν•  λ• λ§¤λ‹νμ¤νΈ νμΌμ— <Service> νƒκ·Έλ¥Ό μ‚¬μ©ν•λ‹¤. μ„λΉ„μ¤λ” startService λ©”μ†λ“λ¥Ό νΈμ¶ν•λ©΄ μ‹μ‘λλ‹¤.

γ€€startService λ©”μ†λ“λ” λν• μΈν…νΈ μ•μ— λ„£μ–΄ μ „λ‹¬ν• λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  μ μλ„λ΅ onStartCommand() λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ‹¤. 

<p>
@Override <br>
public int onStartCommand(Intent intent, int flags, int startId) { <br>
γ€€Log.d(TAG, "onStartCommand() νΈμ¶λ¨"); <br>
γ€€return super.onStartCommand(intent, flags, startId); <br>
}
</p>
{: .notice}

γ€€ν™”λ©΄μ΄ μ—†λ” μ„λΉ„μ¤μ—μ„ ν™”λ©΄μ΄ μλ” μ•΅ν‹°λΉ„ν‹°λ¥Ό λ„μΈ λ•λ” νƒμ¤ν¬(Task)λ¥Ό μƒλ΅ λ§λ“¤μ–΄μ„ μ—°κ²°ν•΄μ•Ό ν•λ‹¤. κ·Έμ™€ κ°™μ€ κ²½μ°μ— μΌλ°μ μΌλ΅ μ„Έ κ°μ ν”λκ·Έ(FLAG_ACTIVITY_NEW_TASK, FLAG_ACTIVITY_SINGLE_TOP, FLAG_ACTIVITY_CLEAR_TOP)λ¥Ό μ‚¬μ©ν•λ‹¤. κ·Έλ¬λ©΄ μ•΅ν‹°λΉ„ν‹°λ” μƒλ΅ λ§λ“¤μ–΄μ§€μ§€ μ•κ³  κΈ°μ΅΄ μ•΅ν‹°λΉ„ν‹°λ¥Ό μ‚¬μ©ν•κ³ , onNewIntent λ©”μ†λ“κ°€ μλ™μΌλ΅ νΈμ¶λλ‹¤.

<br>

### β’ λΈλ΅λ“μΊμ¤νΈ μμ‹ μ μ‚¬μ©ν•κΈ°

γ€€λΈλ΅λ“μΊμ¤ν…μ΄λ€ μ—¬λ¬ μ‚¬λμ—κ² λ™μ‹μ— λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” κ²ƒμ„ λ§ν•λ‹¤. μ•λ“λ΅μ΄λ“λ” μ—¬λ¬ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„± μ”μ†μ—κ² λ©”μ‹μ§€λ¥Ό μ „λ‹¬ν•κ³  μ‹¶μ€ κ²½μ°μ— λΈλ΅λ“μΊμ¤ν…μ„ μ‚¬μ©ν•λ‹¤. λΈλ΅λ“μΊμ¤νΈ μμ‹ μ λν• μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ”μ†μ΄λ―€λ΅ λ§¤λ‹νμ¤νΈ νμΌμ— μ •λ³΄λ¥Ό μ¶”κ°€ν•΄μ¤€λ‹¤. intent-filter νƒκ·Έ λ‚΄μ—λ” μ–΄λ–¤ λΈλ΅λ“μΊμ¤ν… λ©”μ‹μ§€λ¥Ό λ°›κ³  μ‹¶μ€μ§€ μ§€μ •ν•  μ μλ‹¤. λν• λΈλ΅λ“μΊμ¤ν… λ©”μ‹μ§€λ” μΈν…νΈ κ°μ²΄λ΅ λ§λ“¤μ–΄μ Έ μ „λ‹¬λλ‹¤.

<p>
receiver android:name=".SmsReceiver" <br>
γ€€intent-filter <br>
γ€€γ€€action android:name="android.provider.Telephony.SMS_RECEIVED" <br>
γ€€/intent-filter <br>
/receiver
</p>
{: .notice}

<br>

#### DETAIL
`Serialization(μ§λ ¬ν™”)` : ν‘μ¤€ μλ°” μΈν„°νμ΄μ¤λ΅, κ°μ²΄λ¥Ό μ €μ¥ μ¥μΉμ— μ €μ¥ νΉμ€ λ„¤νΈμ›ν¬ μ „μ†΅μ„ μ„ν•΄ ν…μ¤νΈλ‚ μ΄μ§„ ν•μ‹μΌλ΅ λ³€ν™ν•λ” κ²ƒ <br>
`Serializble(κ°μ²΄ μ§λ ¬ν™”)` : κ°μ²΄λ¥Ό λ°”μ΄νΈλ΅ μ €μ¥ν•λ” μλ°”μ μΈν„°νμ΄μ¤ <br>
`Parcelable` : μ•λ“λ΅μ΄λ“ κµ¬μ„±μ”μ†κ°„ λ°μ΄ν„° μ „λ‹¬ μ‹μ— νΈμμ„±μ„ μ„ν•΄ μ‚¬μ©λλ” μΈν„°νμ΄μ¤λ΅, μ‚¬μ©μ μ •μ μλ£ν•μ„ μ „λ‹¬ν•  λ• κΈ°λ³Έν• μλ£λ“¤μ„ λ¶„λ¦¬ν•μ—¬ λ³΄λ‚΄λ” κ²ƒ <br>
`Reflection` : μλ°” κΈ°λ¥ μ¤‘ ν•λ‚λ΅, ν΄λμ¤λ‚ μΈν„°νμ΄μ¤μ μ •λ³΄μ— μ§μ ‘ μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” API <br>
`Bundle` : μ—¬λ¬ κ°€μ§€ νƒ€μ…μ κ°’μ„ μ €μ¥ν•λ” Map ν΄λμ¤μ΄λ‹¤. μλ¥Ό λ“¤λ©΄ String κ°’μ„ Bundle ν΄λμ¤μ— Mapping(λ€μ‘, λ³€ν™)ν•λ” κ²ƒμ΄λ‹¤. μ¦‰, Bundle μ€ μ•„λ¬΄κ±°λ‚ ν¬μ¥ν•  μ μλ” μƒμλ¥Ό μλ―Έν•κ³  μ΄ μƒμλ¥Ό μ΄μ©ν•μ—¬ μ΄λ¦¬μ €λ¦¬ μΈν…νΈλ„ μ¤κ³ κ° μ μκ³  λ‹¤μ–‘ν• λ°μ΄ν„° ν†µμ‹ μ— μ΄μ©ν•  μ μλ‹¤.

#### REFERENCE
boostcourse μ•λ“λ΅μ΄λ“ μ•± ν”„λ΅κ·Έλλ°, 3. ν™”λ©΄ μ—¬λ¬ κ° λ§λ“¤κΈ° <br>
https://www.boostcourse.org/mo316/joinLectures/13160 <br>
[Android] Intent <br>
https://woovictory.github.io/2019/01/02/Android-What-is-Intent/ <br>
Intentμ Flag μ‚¬μ©λ²• <br>
https://ju-hy.tistory.com/46 <br>
Android Bundle μ΄λ€? <br>
https://www.crocus.co.kr/1560 <br>
Android Serializable vs Parcelable <br>
https://wooooooak.github.io/android/2019/09/19/Serializable-vs-Parcelable/ <br>
Parcelable μ΄λ€? <br>
https://blog.naver.com/bestowing/222014802794 <br>
Android & Java - Reflection <br>
https://two22.tistory.com/14 
{: .notice}